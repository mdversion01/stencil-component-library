// ---------------------------------------------
// Tokens
// ---------------------------------------------
$danger: #b30009;
$invalid-border: var(--bs-form-invalid-border-color, #b30009);
$radius-sm: 0.25rem;
$radius-md: 0.375rem;
$radius-lg: 0.5rem;

// ---------------------------------------------
// Helpers
// ---------------------------------------------
@mixin input-group-btn-radii($r) {
  .btn {
    &:first-child {
      border-top-right-radius: 0;
      border-bottom-right-radius: 0;
      border-top-left-radius: $r;
      border-bottom-left-radius: $r;
    }
    &:last-child {
      border-top-left-radius: 0;
      border-bottom-left-radius: 0;
      border-top-right-radius: $r;
      border-bottom-right-radius: $r;
    }
  }
}

// ---------------------------------------------
// Invalid states
// ---------------------------------------------
.input-group-text.is-invalid {
  border-color: $invalid-border;
  color: $danger;
}

.input-group.is-invalid {
  .btn { border-color: $invalid-border; }
}

// ---------------------------------------------
// Input group buttons
// ---------------------------------------------
.input-group {
  .btn {
    height: 100%;
    z-index: 0 !important;
  }

  // default size (md)
  @include input-group-btn-radii($radius-md);

  &.input-group-sm { @include input-group-btn-radii($radius-sm); }
  &.input-group-lg { @include input-group-btn-radii($radius-lg); }
}
